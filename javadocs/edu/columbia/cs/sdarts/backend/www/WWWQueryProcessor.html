<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Aug 30 23:29:20 EDT 2002 -->
<TITLE>
SDARTS Server Specification: Class  WWWQueryProcessor
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/WWWQueryProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
SDARTS</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="WWWBackEndLSP.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="WWWQueryTranslator.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WWWQueryProcessor.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.columbia.cs.sdarts.backend.www</FONT>
<BR>
Class  WWWQueryProcessor</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../QueryProcessor.html">edu.columbia.cs.sdarts.backend.QueryProcessor</A>
        |
        +--<A HREF="../StandardQueryProcessor.html">edu.columbia.cs.sdarts.backend.StandardQueryProcessor</A>
              |
              +--<B>edu.columbia.cs.sdarts.backend.www.WWWQueryProcessor</B>
</PRE>
<HR>
<DL>
<DT>public class <B>WWWQueryProcessor</B><DT>extends <A HREF="../StandardQueryProcessor.html">StandardQueryProcessor</A></DL>

<P>
Manages the querying of the web search engine that is being wrapped.
 Each time a query comes in, the following happens:
 <ul>
 <li>The query is modified to support only the field/modifier combinations
 mentioned in the meta-attributes (same as the superclass,
 <A HREF="../StandardQueryProcessor.html"><CODE>StandardQueryProcessor</CODE></A>
 <li>Validates the query using the following rules:
 <ul>
 <li>Filter and ranking presence must match the "query-parts-supported"
 element of the meta-attributes (same as <code>StandardQueryProcessor</code>),
 <li> "sort-by-fields" must be a subset of "answer-fields"
 </ul>
 <li>Translates the query into a CGI request, using the
 <A HREF="WWWQueryTranslator.html"><CODE>WWWQueryTranslator</CODE></A>.
 <li>Creates a <A HREF="WWWSession.html"><CODE>WWWSession</CODE></A>, which
 invokes the CGI request, and
 converts incoming HTML result pages into <A HREF="../../common/LSPDoc.html"><CODE>LSPDoc</CODE></A>
 collections.
 <li>The session is continually refreshed until the site can no longer provide
 any more hits (i.e. there is no "more" button at the bottom of the returned
 HTML page), or the "maxDocs" attribute of the <code>LSPQuery</code> has
 been exceeded.
 <li>Performs the following post-processing:
 <ul>
 <li>Eliminates documents whose score falls below the "minScore" attribute
 of the <code>LSPQuery</code>
 <li>Shows only the requested "answer-fields" (<b>Note:</b> This actually
 happens earlier, but we mention it here so you can see all the post-processing
 activities together.)
 <li>Sorts the documents using an <A HREF="../LSPDocSorter.html"><CODE>LSPDocSorter</CODE></A>.
 </ul>
 <li>Packages everything as an <A HREF="../../common/LSPResults.html"><CODE>LSPResults</CODE></A> and
 returns it.
 </ul>
 A developer should pay careful attention to what we said happens in
 post-processing, so that they do not waste time trying to duplicate these
 steps when writing their <code>www_results.xsl</code> file.
<P>
<DL>
<DT><B>See Also: </B><DD><A HREF="WWWQueryTranslator.html"><CODE>WWWQueryTranslator</CODE></A>, 
<A HREF="WWWSession.html"><CODE>WWWSession</CODE></A>, 
<A HREF="../LSPDocSorter.html"><CODE>LSPDocSorter</CODE></A></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="WWWQueryProcessor.html#WWWQueryProcessor(java.lang.String, edu.columbia.cs.sdarts.common.LSPMetaAttributes)">WWWQueryProcessor</A></B>(java.lang.String&nbsp;backEndLSPName,
                  <A HREF="../../common/LSPMetaAttributes.html">LSPMetaAttributes</A>&nbsp;metaAttributes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a <code>WWWQueryProcessor</code> that uses an
 <code>LSPMetaAttributes</code> object to tell it what fields,
 modifiers, and field/modifier combinations are legal.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../common/LSPResults.html">LSPResults</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="WWWQueryProcessor.html#queryImpl(edu.columbia.cs.sdarts.common.LSPQuery)">queryImpl</A></B>(<A HREF="../../common/LSPQuery.html">LSPQuery</A>&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs a query on the web site.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="WWWQueryProcessor.html#validateQuery(edu.columbia.cs.sdarts.common.LSPQuery)">validateQuery</A></B>(<A HREF="../../common/LSPQuery.html">LSPQuery</A>&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs the same test as the method it overrides: checks against
 the <code>queryPartsSupported</code> property of the
 <code>LSPMetaAttributes</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_edu.columbia.cs.sdarts.backend.StandardQueryProcessor"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class edu.columbia.cs.sdarts.backend.<A HREF="../StandardQueryProcessor.html">StandardQueryProcessor</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../StandardQueryProcessor.html#getMetaAttributes()">getMetaAttributes</A>, <A HREF="../StandardQueryProcessor.html#setActualFilter(edu.columbia.cs.sdarts.common.LSPQuery)">setActualFilter</A>, <A HREF="../StandardQueryProcessor.html#setActualRanking(edu.columbia.cs.sdarts.common.LSPQuery)">setActualRanking</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_edu.columbia.cs.sdarts.backend.QueryProcessor"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class edu.columbia.cs.sdarts.backend.<A HREF="../QueryProcessor.html">QueryProcessor</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../QueryProcessor.html#query(edu.columbia.cs.sdarts.common.LSPQuery)">query</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><clinit>, clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="WWWQueryProcessor(java.lang.String, edu.columbia.cs.sdarts.common.LSPMetaAttributes)"><!-- --></A><H3>
WWWQueryProcessor</H3>
<PRE>
public <B>WWWQueryProcessor</B>(java.lang.String&nbsp;backEndLSPName,
                         <A HREF="../../common/LSPMetaAttributes.html">LSPMetaAttributes</A>&nbsp;metaAttributes)
                  throws <A HREF="../BackEndException.html">BackEndException</A></PRE>
<DL>
<DD>Construct a <code>WWWQueryProcessor</code> that uses an
 <code>LSPMetaAttributes</code> object to tell it what fields,
 modifiers, and field/modifier combinations are legal. In addition,
 the class needs to know the name of the <code>BackEndLSP</code> that
 is using it, in order to figure out the path to the directory where
 the needed stylesheets are stored.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>backEndLSPName</CODE> - the name of the <code>BackEndLSP</code> using
 this query processor<DD><CODE>metaAttributes</CODE> - the <code>LSPMetaAttributes</code> object
 used to tell the class what fields, modifiers, and field/modifier
 combinations are legal</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="queryImpl(edu.columbia.cs.sdarts.common.LSPQuery)"><!-- --></A><H3>
queryImpl</H3>
<PRE>
protected final <A HREF="../../common/LSPResults.html">LSPResults</A> <B>queryImpl</B>(<A HREF="../../common/LSPQuery.html">LSPQuery</A>&nbsp;query)</PRE>
<DL>
<DD>Performs a query on the web site. Translates the <code>LSPQuery</code>
 into a CGI request using the
 <A HREF="WWWQueryTranslator.html"><CODE>WWWQueryTranslator</CODE></A>.
 Instantiates a <A HREF="WWWSession.html"><CODE>WWWSession</CODE></A> and
 calls <code>getDocs()</code> on it, until the session runs out of documents
 or the maximum required number of documents has been retrieved.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../QueryProcessor.html#queryImpl(edu.columbia.cs.sdarts.common.LSPQuery)">queryImpl</A></CODE> in class <CODE><A HREF="../QueryProcessor.html">QueryProcessor</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>query</CODE> - the <code>LSPQuery</code> to perform</DL>
</DD>
</DL>
<HR>

<A NAME="validateQuery(edu.columbia.cs.sdarts.common.LSPQuery)"><!-- --></A><H3>
validateQuery</H3>
<PRE>
protected void <B>validateQuery</B>(<A HREF="../../common/LSPQuery.html">LSPQuery</A>&nbsp;query)
                      throws <A HREF="../BackEndException.html">BackEndException</A></PRE>
<DL>
<DD>Performs the same test as the method it overrides: checks against
 the <code>queryPartsSupported</code> property of the
 <code>LSPMetaAttributes</code>. In addition, it will throw an
 exception if any of the "sort-by-fields" are not part of the
 "answer-fields". (If "answer-fields" is <code>null</code>, then
 it is replaced by all legal fields, as defined in the meta-attributes,
 during the test. Also, note that "score" is a legal sort-by-field
 no matter what.)<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../StandardQueryProcessor.html#validateQuery(edu.columbia.cs.sdarts.common.LSPQuery)">validateQuery</A></CODE> in class <CODE><A HREF="../StandardQueryProcessor.html">StandardQueryProcessor</A></CODE></DL>
</DD>
<DD>Following copied from class: <CODE>edu.columbia.cs.sdarts.backend.StandardQueryProcessor</CODE></DD>
<DD><DL>
<DT><B>Throws:</B><DD><CODE><A HREF="../BackEndException.html">BackEndException</A></CODE> - if the query is invalid</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/WWWQueryProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
SDARTS</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="WWWBackEndLSP.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="WWWQueryTranslator.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WWWQueryProcessor.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<a href="../../../../../../../index.html" target="_top">Sdarts Homepage</a>
</BODY>
</HTML>

<!-- Localized -->